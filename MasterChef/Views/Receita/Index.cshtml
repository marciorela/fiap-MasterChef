@model IEnumerable<ReceitaStdResponse>

<link rel="stylesheet" href="~/css/receita.css" />
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<link rel="stylesheet" href="~/MasterChef.styles.css" asp-append-version="true" />

@{
    ViewData["Title"] = "Receitas";
    var search = Context.Request.Query["search"];
}
<div class="container-fluid" style="padding: 0px">

<div class="banner"></div>

<div class="row" style="padding-left:15px; padding-right: 15px; padding-top:15px;">
    <h3>Confira abaixo nossas deliciosas receitas:</h3>
</div>

<div class="row mb-2" style="padding:15px">
    @if (Model != null)
    {
        foreach (var item in Model)
        {
            <div class="col-md-6">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                      <h3 class="mb-0">@item.Titulo</h3>
                      <p class="card-text mb-auto">
                          @if(item.Descricao.Length > 30)
                          {
                              @item.Descricao.Substring(0,30);
                          }
                          else
                          {
                              @item.Descricao
                          }
                          </p>
                          <div>
                          <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-outline-primary" style="margin-top:10px;margin-right:10px">Editar</a>
                          </div>
                </div>
                <div class="col-auto d-none d-lg-block">
                    @if (!string.IsNullOrEmpty(@item.FotoContent))
                        {
                            <img src="data:image/png;base64, @item.FotoContent" alt="Red dot" width="250" height="250"/>
                        }
                        else
                        {
                            <svg class="bd-placeholder-img" width="250" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="10%" y="50%" fill="#eceeef" dy=".3em">Receita sem imagem</text></svg>
                        }
                </div>
              </div>
              </div>
        }
    }
</div>
</div>

@section scripts {
<script>
    $('#search').val("@search");
</script>
}
